# ============================================
# XPLORE VIAGENS - VPS Environment Configuration
# ============================================
# 
# This file is for standalone VPS deployment (NOT Manus).
# Copy this to .env and fill in your values.
# 
# Usage:
# 1. Copy: cp .env.example .env
# 2. Edit: nano .env
# 3. Fill in all required variables
# 4. Save and restart server

# ============================================
# SERVER CONFIGURATION
# ============================================

# Node environment (development, production, test)
NODE_ENV=production

# Server port (default: 3000)
PORT=3000

# ============================================
# DATABASE CONFIGURATION
# ============================================

# MySQL connection string
# Format: mysql://user:password@host:port/database
# 
# Example (your server):
# mysql://xplore:3PIbucxhrETl8pLJdovu3aajBKYEekhEEZWAThXHsghOonLXCbdTIGUo31vG9Y5x@31.97.249.115:3306/xplore_db
# 
# IMPORTANT: Change password in production!
DATABASE_URL=mysql://xplore:3PIbucxhrETl8pLJdovu3aajBKYEekhEEZWAThXHsghOonLXCbdTIGUo31vG9Y5x@31.97.249.115:3306/xplore_db

# ============================================
# AUTHENTICATION
# ============================================

# JWT secret for signing tokens
# IMPORTANT: Change this in production!
# Generate with: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-in-production

# JWT expiration time
JWT_EXPIRES_IN=7d

# ============================================
# GOOGLE OAUTH
# ============================================

# Get from: https://console.cloud.google.com/apis/credentials
# 
# Steps:
# 1. Create OAuth 2.0 Client ID (Web application)
# 2. Add authorized JavaScript origins:
#    - http://localhost:3000 (development)
#    - https://yourdomain.com (production)
# 3. Add authorized redirect URIs:
#    - http://localhost:3000/api/oauth/callback (development)
#    - https://yourdomain.com/api/oauth/callback (production)
# 4. Copy Client ID and Client Secret below

GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# OAuth redirect URI (where Google redirects after login)
# Default: http://localhost:3000/api/oauth/callback
GOOGLE_REDIRECT_URI=http://localhost:3000/api/oauth/callback

# ============================================
# FRONTEND
# ============================================

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# API URL (for frontend to connect to backend)
API_URL=http://localhost:3000

# ============================================
# FILE STORAGE
# ============================================

# Storage type: local (default) or s3
# local: files stored in /uploads directory (no configuration needed)
# s3: files stored in AWS S3 (requires AWS credentials)
STORAGE_TYPE=local

# Directory for local uploads (relative to project root)
UPLOADS_DIR=uploads

# AWS S3 credentials (only needed if STORAGE_TYPE=s3)
# Get from: https://console.aws.amazon.com/iam/
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_BUCKET=your-bucket-name

# ============================================
# EMAIL (SMTP) - OPTIONAL
# ============================================

# Enable SMTP email (true/false)
# If false, notifications will only log to console
SMTP_ENABLED=false

# SMTP server configuration
# Examples:
# - Gmail: smtp.gmail.com
# - SendGrid: smtp.sendgrid.net
# - Mailgun: smtp.mailgun.org
# SMTP_HOST=smtp.gmail.com

# SMTP port (usually 587 for TLS, 465 for SSL)
# SMTP_PORT=587

# SMTP username (usually your email)
# SMTP_USER=your-email@gmail.com

# SMTP password
# For Gmail: use App Password (not regular password)
# Get from: https://myaccount.google.com/apppasswords
# SMTP_PASS=your-app-password

# From email address
SMTP_FROM=noreply@xploreviagens.com

# Owner email (where notifications are sent)
# OWNER_EMAIL=admin@xploreviagens.com

# ============================================
# APP CONFIGURATION
# ============================================

# Application name
APP_NAME=Xplore Viagens

# Application URL (for links in emails, etc)
APP_URL=http://localhost:3000

# ============================================
# NOTES FOR DIFFERENT ENVIRONMENTS
# ============================================

# DEVELOPMENT (localhost):
# NODE_ENV=development
# PORT=3000
# FRONTEND_URL=http://localhost:5173
# GOOGLE_REDIRECT_URI=http://localhost:3000/api/oauth/callback
# SMTP_ENABLED=false (logs to console)

# PRODUCTION (VPS):
# NODE_ENV=production
# PORT=3000
# FRONTEND_URL=https://yourdomain.com
# GOOGLE_REDIRECT_URI=https://yourdomain.com/api/oauth/callback
# SMTP_ENABLED=true (sends real emails)

# PRODUCTION (Docker):
# NODE_ENV=production
# PORT=3000
# FRONTEND_URL=https://yourdomain.com
# GOOGLE_REDIRECT_URI=https://yourdomain.com/api/oauth/callback
# DATABASE_URL=mysql://user:pass@mysql-container:3306/db
# SMTP_ENABLED=true

# ============================================
# GMAIL SMTP SETUP
# ============================================
# 
# 1. Enable 2-factor authentication on your Google account
# 2. Generate App Password:
#    - Go to: https://myaccount.google.com/apppasswords
#    - Select "Mail" and "Windows Computer"
#    - Copy the 16-character password
# 3. Use in .env:
#    SMTP_HOST=smtp.gmail.com
#    SMTP_PORT=587
#    SMTP_USER=your-email@gmail.com
#    SMTP_PASS=xxxx xxxx xxxx xxxx (16 characters)

# ============================================
# SENDGRID SMTP SETUP
# ============================================
# 
# 1. Create SendGrid account: https://sendgrid.com
# 2. Generate API key
# 3. Use in .env:
#    SMTP_HOST=smtp.sendgrid.net
#    SMTP_PORT=587
#    SMTP_USER=apikey
#    SMTP_PASS=SG.your-api-key

# ============================================
# GOOGLE OAUTH SETUP
# ============================================
# 
# 1. Go to: https://console.cloud.google.com/apis/credentials
# 2. Click "Create Credentials" â†’ "OAuth 2.0 Client ID"
# 3. Select "Web application"
# 4. Add authorized JavaScript origins:
#    - http://localhost:3000 (development)
#    - https://yourdomain.com (production)
# 5. Add authorized redirect URIs:
#    - http://localhost:3000/api/oauth/callback
#    - https://yourdomain.com/api/oauth/callback
# 6. Copy Client ID and Client Secret
# 7. Paste into GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET

# ============================================
# IMPORTANT SECURITY NOTES
# ============================================
# 
# 1. NEVER commit .env to Git
# 2. NEVER share JWT_SECRET or GOOGLE_CLIENT_SECRET
# 3. Use strong passwords for DATABASE_URL
# 4. Rotate secrets regularly
# 5. Use HTTPS in production
# 6. Keep Node.js and dependencies updated
# 7. Use environment-specific .env files
# 8. Monitor logs for suspicious activity
